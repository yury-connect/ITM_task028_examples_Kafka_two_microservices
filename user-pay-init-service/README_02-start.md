
# üöÄ –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è: –∫–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç

---
### üßº 1. –£–±–µ–¥–∏—Å—å, —á—Ç–æ –Ω–µ—Ç ¬´–∑–∞–≤–∏—Å—à–∏—Ö¬ª –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
```bash
docker compose down -v --remove-orphans
```
> –£–¥–∞–ª–∏—Ç —Å—Ç–∞—Ä—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥–ª–∏ –ø–æ–º–µ—à–∞—Ç—å –∑–∞–ø—É—Å–∫—É. 
> 
>‚ö†Ô∏è –§–ª–∞–≥ `-v` —É–¥–∞–ª—è–µ—Ç –∏ **volume** —Å –±–∞–∑–æ–π.‚ö†Ô∏è

---
### üî• BONUS: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ —Å–±–æ—Ä–∫–æ–π
–ü–µ—Ä–µ–¥ —Ç–µ–º –∫–∞–∫ —Å—Ç—Ä–æ–∏—Ç—å Docker-–æ–±—Ä–∞–∑, —É–±–µ–¥–∏—Å—å, —á—Ç–æ **–ª–æ–∫–∞–ª—å–Ω–æ —Å–±–æ—Ä–∫–∞ –ø—Ä–æ—Ö–æ–¥–∏—Ç**:
```bash
mvn clean package -DskipTests
```
–ï—Å–ª–∏ –æ—à–∏–±–∫–∞ ‚Äî Docker —Ç–æ–∂–µ –Ω–µ —Å–æ–±–µ—Ä—ë—Ç. –õ–æ–∫–∞–ª—å–Ω–∞—è —Å–±–æ—Ä–∫–∞ = –Ω–∞–¥—ë–∂–Ω—ã–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä üí™

---
### üß∞ 2. –°–æ–±–µ—Ä–∏ Docker-–æ–±—Ä–∞–∑ Spring Boot-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```bash
docker compose build
```
> üõ†Ô∏è –≠—Ç–æ –ø–æ—Å—Ç—Ä–æ–∏—Ç –æ–±—Ä–∞–∑ –∏–∑ `Dockerfile`, –∏—Å–ø–æ–ª—å–∑—É—è **—Å–æ–±—Ä–∞–Ω–Ω—ã–π .jar** –∏–∑ `user-service-src/target/`

---
### üì¶ 3. –ó–∞–ø—É—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç –≤–º–µ—Å—Ç–µ —Å PostgreSQL
```bash
docker compose up -d
```
> üî• –§–ª–∞–≥ `-d` –∑–∞–ø—É—Å–∫–∞–µ—Ç –≤—Å—ë –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ.

---
### ü©∫ 4. –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ –ë–î
```bash
docker logs -f postgres_db
```

### ü©∫ 4.1. –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```bash
docker logs -f kafkademo
```
> –ò–º—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —É —Ç–µ–±—è: `kafkademo` (–ø–æ `docker-compose.yml`)  
> –õ–æ–≥–∏ —Å–∫–∞–∂—É—Ç, –∑–∞–ø—É—Å—Ç–∏–ª–æ—Å—å –ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –ø–æ–¥–∫–ª—é—á–∏–ª–æ—Å—å –ª–∏ –∫ –ë–î –∏ –≤—Å—ë –ª–∏ —Ö–æ—Ä–æ—à–æ üåà
>
---
### üß™ 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ä—É—á–Ω—É—é

–ö–æ–≥–¥–∞ –≤—Å—ë –∑–∞–ø—É—â–µ–Ω–æ, –º–æ–∂–Ω–æ:

- üü¢ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Spring Boot Health:
```bash
curl http://localhost:8080/actuator/health

```

- üåç –û—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ:  
  [http://localhost:8080](http://localhost:8080)

> –ï—Å–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç ‚Äî –∑–Ω–∞—á–∏—Ç, —Ç—ã –±–æ–∂–µ–Ω—å–∫–∞ üòé

---
## ‚ù§Ô∏è –ï—Å–ª–∏ —Ö–æ—á–µ—à—å **–ø–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å —Å –Ω—É–ª—è** _(–Ω–∞ —Å–ª—É—á–∞–π –∏–∑–º–µ–Ω–µ–Ω–∏–π)_:
```bash
mvn clean package -DskipTests         # 1. –°–æ–±—Ä–∞—Ç—å .jar
docker compose build                  # 2. –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞–∑
docker compose up -d --force-recreate # 3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –∑–∞–Ω–æ–≤–æ
```

---
## üß† –í–æ–∑–º–æ–∂–Ω—ã–µ –≥—Ä–∞–±–ª–∏ –∏ –∫–∞–∫ –∏—Ö –æ–±–æ–π—Ç–∏:

| üß® –ü—Ä–æ–±–ª–µ–º–∞                           | üí° –†–µ—à–µ–Ω–∏–µ                                                                      |
|:--------------------------------------|:--------------------------------------------------------------------------------|
| –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ —Å—Ç–∞—Ä—Ç—É–µ—Ç                | –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏: `docker logs -f kafkademo`                                        |
| –ù–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ –ë–î                  | –£–±–µ–¥–∏—Å—å, —á—Ç–æ –ë–î —Ä–∞–±–æ—Ç–∞–µ—Ç: `docker ps`, –ø—Ä–æ–≤–µ—Ä—å –ø–æ—Ä—Ç—ã                            |
| `Connection refused` –∏–ª–∏ `timeout`    | –í `application.yaml` –∏—Å–ø–æ–ª—å–∑—É–π `jdbc:postgresql://db:5432/...` (–Ω–µ `localhost`) |
| –ù–µ –≤–∏–¥–∏—Ç —Ç–∞–±–ª–∏—Ü—ã –∏–ª–∏ –æ—à–∏–±–∫–∏ Hibernate | –í–æ–∑–º–æ–∂–Ω–æ, –Ω–µ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –º–∏–≥—Ä–∞—Ü–∏–∏ –∏–ª–∏ `ddl-auto` —Å—Ç–æ–∏—Ç –≤ `validate`               |

---
### –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å  –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
```bash
docker compose down -v --remove-orphans
docker compose build
docker compose up -d
docker logs -f kafkademo
```
---
